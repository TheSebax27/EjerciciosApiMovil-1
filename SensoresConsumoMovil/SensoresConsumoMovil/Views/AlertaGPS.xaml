<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodel="clr-namespace:SensoresConsumoMovil.ViewModel"
             x:Class="SensoresConsumoMovil.Views.AlertaGPS"
             Title="Alerta GPS">

    <ContentPage.BindingContext>
        <viewmodel:AlertaGpsViewModel />
    </ContentPage.BindingContext>

    <VerticalStackLayout Spacing="20" Padding="20" VerticalOptions="Center">
        <Label 
            Text="Alerta de GPS"
            FontAttributes="Bold"
            FontSize="24"
            HorizontalOptions="Center" />

        <Frame BorderColor="LightGray" Padding="15" Margin="0,10,0,10">
            <VerticalStackLayout Spacing="10">
                <Label Text="Estado GPS:" FontAttributes="Bold" />
                <Label Text="{Binding AlertaGPS.ActivarGPS, StringFormat='Activar GPS: {0}'}" FontSize="18" />
                <Label Text="{Binding AlertaGPS.Mensaje}" FontSize="16" />
            </VerticalStackLayout>
        </Frame>

        <Button 
            Text="Verificar Estado GPS" 
            Command="{Binding CheckGpsCommand}"
            BackgroundColor="#0078D7"
            TextColor="White" />

        <ActivityIndicator IsRunning="{Binding IsLoading}" IsVisible="{Binding IsLoading}" />

        <Label 
            Text="{Binding StatusMessage}"
            HorizontalOptions="Center" 
            FontSize="16"
            Margin="0,20,0,0" />
    </VerticalStackLayout>
</ContentPage>